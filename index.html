<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Resa – Operativer Reservationsagent</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root {
      --accent: #0f4c5c;
      --text-main: #1f2933;
      --text-sub: #4b5563;
      --text-muted: #6b7280;
      --bg-page: #fafafa;
      --bg-box: #ffffff;
      --border: #e5e7eb;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      max-width: 960px;
      margin: 80px auto;
      padding: 0 24px;
      line-height: 1.6;
      color: var(--text-main);
      background: var(--bg-page);
    }

    h1 {
      font-size: 28px;
      font-weight: 600;
      color: var(--accent);
      margin-bottom: 12px;
    }

    h2 {
      font-size: 18px;
      font-weight: 600;
      margin-top: 56px;
      margin-bottom: 12px;
    }

    p {
      font-size: 15px;
      color: var(--text-sub);
      max-width: 720px;
    }

    .intro {
      margin-bottom: 40px;
    }

    .boxes {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 20px;
      margin: 32px 0 48px;
    }

    .box {
      background: var(--bg-box);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 20px;
    }

    .box h3 {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 6px;
      color: var(--accent);
    }

    button {
      padding: 10px 18px;
      font-size: 14px;
      font-weight: 500;
      border-radius: 6px;
      border: 1px solid var(--border);
      background: #ffffff;
      cursor: pointer;
      margin: 6px 6px 0 0;
    }

    button.primary {
      background: var(--accent);
      color: #ffffff;
      border-color: var(--accent);
    }

    button.primary:hover {
      opacity: 0.9;
    }

    button:hover {
      background: #f3f4f6;
    }

    section {
      margin-top: 64px;
    }

    #bot {
      max-width: 500px;
      background: var(--bg-box);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 16px;
    }

    .reset {
      font-size: 12px;
      background: transparent;
      border: none;
      color: var(--text-muted);
      cursor: pointer;
      margin-bottom: 4px;
      padding: 0;
    }

    .reset:hover {
      text-decoration: underline;
    }

    .microcopy {
      font-size: 12px;
      color: var(--text-muted);
      margin-top: 4px;
    }

    .msg {
      margin-bottom: 10px;
      font-size: 14px;
    }

    .bot-options button {
      display: block;
      width: 100%;
      text-align: left;
    }

    small {
      font-size: 12px;
      color: var(--text-muted);
    }
  </style>
</head>

<body>

<div class="intro">
  <h1>Resa automatisiert Raumreservationen für Gemeinden und Vereine.</h1>
  <p>Regelbasiert, nachvollziehbar und ohne administrativen Aufwand.</p>

  <div class="boxes">
    <div class="box">
      <h3>Gemeindeverwaltung</h3>
      <p>
        Automatisierte Reservationen für Gemeinderäumlichkeiten nach klar definierten
        Nutzungs- und Belegungsregeln.
      </p>
    </div>

    <div class="box">
      <h3>Verein</h3>
      <p>
        Strukturierte Raumreservationen mit verfügbaren Zeiten,
        klaren Zwecken und einfachem Ablauf.
      </p>
    </div>
  </div>

  <button class="primary"
    onclick="track('simulate_reservation'); document.getElementById('demo').scrollIntoView()">
    Reservation simulieren
  </button>
</div>

<section id="demo">
  <h2>Interaktive Demo</h2>

  <div id="bot">
    <button class="reset" onclick="startDemo()">Von vorne beginnen</button>
    <div class="microcopy">Startet die Demo neu.</div>

    <div id="chat"></div>
    <div class="bot-options" id="options"></div>
    <div id="context"></div>
  </div>

  <p><small>Vereinfachte Darstellung eines realen Ablaufs.</small></p>
</section>

<section>
  <h2>Nächster Schritt</h2>
  <p>Wählen Sie, wie Sie mit Resa weiter vorgehen möchten.</p>

  <button onclick="track('request_discussion'); requestDemo()">
    Ablauf für unsere Organisation besprechen
  </button>
  <button onclick="track('request_offer'); requestOffer()">
    Angebot für unsere Organisation anfordern
  </button>
</section>

<section>
  <h2>Feedback</h2>
  <button onclick="track('feedback'); requestFeedback()">
    Rückmeldung zur Demo geben
  </button>
</section>

<script>
function track(event) {
  console.log("TRACK:", event);
}

const chat = document.getElementById("chat");
const options = document.getElementById("options");
const context = document.getElementById("context");
let state = {};

function clearContext() {
  context.innerHTML = "";
}

function setContext(text) {
  context.innerHTML = `<div class="microcopy">${text}</div>`;
}

function typeText(el, text, speed = 25) {
  return new Promise(resolve => {
    let i = 0;
    const t = setInterval(() => {
      el.textContent += text.charAt(i++);
      if (i >= text.length) {
        clearInterval(t);
        resolve();
      }
    }, speed);
  });
}

async function say(text) {
  const row = document.createElement("div");
  row.className = "msg";
  row.innerHTML = "<strong>Resa:</strong> ";
  const span = document.createElement("span");
  row.appendChild(span);
  chat.appendChild(row);
  await typeText(span, text);
  await new Promise(r => setTimeout(r, 300));
}

async function saySequence(list) {
  for (const t of list) await say(t);
}

function clearOptions() {
  options.innerHTML = "";
}

async function startDemo() {
  state = {};
  chat.innerHTML = "";
  clearOptions();
  clearContext();

  await saySequence([
    "Guten Tag.",
    "Ich bearbeite Reservationen nach den geltenden Vorgaben.",
    "Für welchen Bereich möchten Sie eine Reservation simulieren?"
  ]);

  setContext("Die Auswahl dient nur zur Darstellung des Ablaufs.");

  options.innerHTML = `
    <button onclick="selectDomain('Gemeinde')">Gemeindeverwaltung</button>
    <button onclick="selectDomain('Verein')">Verein</button>
  `;
}

async function selectDomain(domain) {
  state.domain = domain;
  clearOptions();
  clearContext();

  await say("Bereich gewählt: " + domain + ".");
  await say("Bitte wählen Sie eine Ressource.");

  options.innerHTML = domain === "Gemeinde"
    ? `
      <button onclick="selectResource('Sporthalle')">Sporthalle</button>
      <button onclick="selectResource('Mehrzweckhalle')">Mehrzweckhalle</button>
      <button onclick="selectResource('Sitzungszimmer')">Sitzungszimmer</button>`
    : `
      <button onclick="selectResource('Vereinslokal')">Vereinslokal</button>
      <button onclick="selectResource('Sitzungsraum')">Sitzungsraum</button>
      <button onclick="selectResource('Trainingsraum')">Trainingsraum</button>`;
}

async function selectResource(resource) {
  clearOptions();
  clearContext();

  await say("Ressource gewählt: " + resource + ".");
  await say("Bitte wählen Sie einen verfügbaren Termin.");

  setContext("Angezeigte Zeiten sind beispielhaft.");

  options.innerHTML = `
    <button onclick="selectTime('12.10.2026, 18:00–20:00')">12.10.2026 · 18:00–20:00</button>
    <button onclick="selectTime('15.10.2026, 19:00–21:00')">15.10.2026 · 19:00–21:00</button>
    <button onclick="selectTime('18.10.2026, 10:00–12:00')">18.10.2026 · 10:00–12:00</button>
  `;
}

async function selectTime(time) {
  clearOptions();
  clearContext();

  await say("Termin ausgewählt: " + time + ".");
  await say("Bitte wählen Sie den Zweck der Nutzung.");

  options.innerHTML = `<button onclick="finish()">Zweck auswählen (Demo)</button>`;
}

async function finish() {
  clearOptions();
  clearContext();

  await saySequence([
    "Die Reservation entspricht den geltenden Vorgaben.",
    "Der Termin wird gemäss Vorgaben reserviert und dokumentiert."
  ]);

  setContext("In der realen Nutzung erfolgt hier die verbindliche Buchung.");

  options.innerHTML = `<button onclick="startDemo()">Neue Reservation simulieren</button>`;
}

function requestDemo() {
  window.location.href =
    "mailto:DEINEEMAIL@DOMAIN.CH?subject=Ablauf Resa für unsere Organisation besprechen";
}

function requestOffer() {
  window.location.href =
    "mailto:DEINEEMAIL@DOMAIN.CH?subject=Angebot: Resa für unsere Organisation";
}

function requestFeedback() {
  window.location.href =
    "mailto:DEINEEMAIL@DOMAIN.CH?subject=Rückmeldung zur Resa Demo";
}

startDemo();
</script>

</body>
</html>
