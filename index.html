<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Resa – Operativer Reservationsagent</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      max-width: 900px;
      margin: 60px auto;
      padding: 0 20px;
      line-height: 1.6;
      color: #1f2933;
      background: #fafafa;
    }

    h1 { font-size: 24px; font-weight: 600; margin-bottom: 16px; }
    h2 { font-size: 18px; font-weight: 600; margin-top: 48px; margin-bottom: 12px; }
    p { font-size: 14px; color: #374151; }

    section { margin-top: 60px; }

    button {
      padding: 10px 16px;
      font-size: 14px;
      font-weight: 500;
      border-radius: 6px;
      border: 1px solid #d1d5db;
      background: #ffffff;
      cursor: pointer;
      margin: 6px 6px 0 0;
    }

    button:hover { background: #f3f4f6; }

    .reset {
      font-size: 12px;
      background: transparent;
      border: none;
      color: #6b7280;
      cursor: pointer;
      margin-bottom: 8px;
    }

    .reset:hover { text-decoration: underline; }

    #bot {
      max-width: 480px;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      padding: 16px;
      background: #ffffff;
    }

    .msg {
      margin-bottom: 10px;
      font-size: 14px;
    }

    .bot-options button {
      display: block;
      width: 100%;
      text-align: left;
    }

    small { font-size: 12px; color: #6b7280; }
  </style>
</head>

<body>

<h1>
  Resa ist ein operativer Reservationsagent, der den gesamten Prozess von Raumanfragen
  innerhalb klar definierter Vorgaben eigenständig abwickelt.
</h1>

<p>
  Resa übernimmt die administrative Abwicklung von Reservationen
  für Gemeinden und Vereine – von der Anfrage bis zur dokumentierten Buchung.
</p>

<button onclick="track('scroll_demo'); document.getElementById('demo').scrollIntoView()">
  Demo ansehen
</button>

<section id="demo">
  <h2>Interaktive Demo</h2>

  <div id="bot">
    <button class="reset" onclick="startDemo()">Von vorne beginnen</button>
    <div id="chat"></div>
    <div class="bot-options" id="options"></div>
  </div>

  <p><small>Vereinfachte Darstellung eines realen Ablaufs.</small></p>
</section>

<section>
  <h2>Nächster Schritt</h2>
  <p>Gerne zeigen wir Ihnen den Ablauf für Ihre Organisation.</p>

  <button onclick="track('request_demo'); requestDemo()">Persönliche Demo anfragen</button>
  <button onclick="track('request_offer'); requestOffer()">Unverbindliches Angebot anfragen</button>
</section>

<section>
  <h2>Feedback</h2>
  <button onclick="track('feedback'); requestFeedback()">Feedback geben</button>
</section>

<script>
/* ---------------- Tracking ---------------- */
function track(event) {
  console.log("TRACK:", event);
}

/* ---------------- Schreibsimulation ---------------- */
const chat = document.getElementById("chat");
const options = document.getElementById("options");
let state = {};

function typeText(el, text, speed = 25) {
  return new Promise(resolve => {
    let i = 0;
    const t = setInterval(() => {
      el.textContent += text.charAt(i++);
      if (i >= text.length) {
        clearInterval(t);
        resolve();
      }
    }, speed);
  });
}

async function say(text) {
  const row = document.createElement("div");
  row.className = "msg";
  const strong = document.createElement("strong");
  strong.textContent = "Resa: ";
  const span = document.createElement("span");

  row.appendChild(strong);
  row.appendChild(span);
  chat.appendChild(row);

  await typeText(span, text);
  await new Promise(r => setTimeout(r, 300));
}

async function saySequence(list) {
  for (const t of list) await say(t);
}

function clearOptions() {
  options.innerHTML = "";
}

/* ---------------- Demo-Flow ---------------- */
async function startDemo() {
  state = {};
  chat.innerHTML = "";
  clearOptions();

  await saySequence([
    "Guten Tag.",
    "Ich bearbeite Reservationen nach den geltenden Vorgaben.",
    "Für welchen Bereich möchten Sie eine Reservation simulieren?"
  ]);

  options.innerHTML = `
    <button onclick="selectDomain('Gemeinde')">Gemeindeverwaltung</button>
    <button onclick="selectDomain('Verein')">Verein</button>
  `;
}

async function selectDomain(domain) {
  state.domain = domain;
  clearOptions();

  await say("Bereich gewählt: " + domain + ".");

  if (domain === "Gemeinde") {
    await say("Bitte wählen Sie eine Ressource.");
    options.innerHTML = `
      <button onclick="selectResource('Sporthalle')">Sporthalle</button>
      <button onclick="selectResource('Mehrzweckhalle')">Mehrzweckhalle</button>
      <button onclick="selectResource('Sitzungszimmer')">Sitzungszimmer</button>
    `;
  } else {
    await say("Bitte wählen Sie einen Raum.");
    options.innerHTML = `
      <button onclick="selectResource('Vereinslokal')">Vereinslokal</button>
      <button onclick="selectResource('Sitzungsraum')">Sitzungsraum</button>
      <button onclick="selectResource('Trainingsraum')">Trainingsraum</button>
    `;
  }
}

async function selectResource(resource) {
  state.resource = resource;
  clearOptions();

  await saySequence([
    "Ressource gewählt: " + resource + ".",
    "Bitte wählen Sie einen verfügbaren Termin."
  ]);

  options.innerHTML = `
    <button onclick="selectTime('12.10.2026, 18:00–20:00')">12.10.2026 · 18:00–20:00</button>
    <button onclick="selectTime('15.10.2026, 19:00–21:00')">15.10.2026 · 19:00–21:00</button>
    <button onclick="selectTime('18.10.2026, 10:00–12:00')">18.10.2026 · 10:00–12:00</button>
  `;
}

async function selectTime(time) {
  state.time = time;
  clearOptions();

  await saySequence([
    "Termin ausgewählt: " + time + ".",
    "Bitte wählen Sie den Zweck der Nutzung."
  ]);

  if (state.domain === "Gemeinde") {
    if (state.resource === "Sporthalle") {
      options.innerHTML = `
        <button onclick="finish('Vereinstraining')">Vereinstraining</button>
        <button onclick="finish('Wettkampf')">Wettkampf</button>
        <button onclick="finish('Gemeindeveranstaltung')">Gemeindeveranstaltung</button>
      `;
    } else if (state.resource === "Mehrzweckhalle") {
      options.innerHTML = `
        <button onclick="finish('Anlass')">Anlass</button>
        <button onclick="finish('Versammlung')">Versammlung</button>
        <button onclick="finish('Veranstaltung')">Veranstaltung</button>
      `;
    } else {
      options.innerHTML = `
        <button onclick="finish('Sitzung')">Sitzung</button>
        <button onclick="finish('Kommission')">Kommission</button>
        <button onclick="finish('Arbeitsgruppe')">Arbeitsgruppe</button>
      `;
    }
  } else {
    if (state.resource === "Vereinslokal") {
      options.innerHTML = `
        <button onclick="finish('Vereinssitzung')">Vereinssitzung</button>
        <button onclick="finish('Interne Veranstaltung')">Interne Veranstaltung</button>
        <button onclick="finish('Vermietung')">Vermietung</button>
      `;
    } else if (state.resource === "Sitzungsraum") {
      options.innerHTML = `
        <button onclick="finish('Vorstandssitzung')">Vorstandssitzung</button>
        <button onclick="finish('Planung')">Planung</button>
        <button onclick="finish('Workshop')">Workshop</button>
      `;
    } else {
      options.innerHTML = `
        <button onclick="finish('Training')">Training</button>
        <button onclick="finish('Kurs')">Kurs</button>
        <button onclick="finish('Probe')">Probe</button>
      `;
    }
  }
}

async function finish(purpose) {
  clearOptions();

  await saySequence([
    "Zweck erfasst: " + purpose + ".",
    "Die Reservation entspricht den geltenden Vorgaben.",
    "Der Termin wird reserviert und dokumentiert.",
    "Sonderfälle oder externe Anfragen werden automatisch weiterbearbeitet."
  ]);

  options.innerHTML = `
    <button onclick="startDemo()">Neue Reservation simulieren</button>
  `;
}

/* ---------------- Mail ---------------- */
function requestDemo() {
  window.location.href =
    "mailto:DEINEEMAIL@DOMAIN.CH?subject=Anfrage: Persönliche Demo Resa";
}
function requestOffer() {
  window.location.href =
    "mailto:DEINEEMAIL@DOMAIN.CH?subject=Anfrage: Reservationsagent Resa für unsere Organisation";
}
function requestFeedback() {
  window.location.href =
    "mailto:DEINEEMAIL@DOMAIN.CH?subject=Feedback zur Resa Website";
}

startDemo();
</script>

</body>
</html>
